# 核心运动

> 处理加速度计、陀螺仪、计步器和与环境相关的事件。

::: tip
iOS 4.0+
iPadOS 4.0+
Mac Catalyst 13.0+
macOS 10.15+
visionOS 1.0+
watchOS 2.0+
:::

## 概述

Core Motion 报告来自 iOS、iPadOS、watchOS 和 visionOS 设备的可用硬件的运动和环境相关数据。这些硬件包括设备的加速度计和陀螺仪，以及在可用时的计步器、磁力计和气压计。在您的应用中使用这些数据作为用户交互、健身追踪、健康相关事务等的输入。例如，一款游戏可能会使用加速度计和陀螺仪输入来控制屏幕上的游戏行为。

该框架的服务提供对运动数据的访问，既可以是原始值也可以是处理过的值，许多服务提供这两种类型的值。原始值反映来自硬件的未修改数据，而处理过的值消除了可能对您使用数据产生不利影响的偏差形式。例如，处理过的加速度计值仅反映用户造成的加速度，而不包括重力造成的加速度。

并非所有服务在所有设备上都可用，有些服务即使在具备所需硬件的设备上也可能不可用。例如，许多 Core Motion 服务可供 visionOS 应用使用，但这些服务在运行于 visionOS 的兼容 iPad 和 iPhone 应用中不可用。在尝试使用任何与运动相关的服务之前，请使用一个 CMMotionManager 对象检查这些服务的可用性。

::: warning 注意
iOS 应用必须在其 Info.plist 文件中包含所需数据类型的使用描述键。如果这些键不存在，当尝试访问相应服务时，应用将崩溃。要访问运动和健身数据，请包含 NSMotionUsageDescription。要访问跌倒检测服务，请包含 NSFallDetectionUsageDescription。
:::
