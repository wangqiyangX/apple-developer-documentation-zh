# 网络扩展
>
> 自定义和扩展核心网络功能。

::: tip
iOS 8.0+
iPadOS 8.0+
Mac Catalyst 13.1+
macOS 10.10+
tvOS 17.0+
visionOS 1.0+
watchOS 7.0+
:::

## 概述

使用 NetworkExtension 框架，您可以自定义和扩展系统的核心网络功能。具体来说，您可以：

- 更改系统的 Wi-Fi 配置
- 将您的应用与热点网络子系统集成（热点助手）
- 创建和管理 VPN 配置，使用内置的 VPN 协议（个人 VPN）或自定义 VPN 协议
- 创建和管理网络中继配置
- 实现设备上的内容过滤器
- 创建和管理系统范围的 DNS 配置，使用内置的 DNS 协议或自定义的设备内 DNS 代理

NetworkExtension 框架在 macOS、iOS、tvOS 和 visionOS 中可用，但并非所有功能在所有平台上都可用，并且某些功能有特定的限制（例如，某些功能仅在受管理的 iOS 设备上工作）。每个功能的文档描述了这些限制。

## 实现 VPN 的选项

NetworkExtension 框架对虚拟私人网络（VPN）提供了广泛的支持。VPN 是一种网络隧道形式，VPN 客户端使用公共互联网与 VPN 服务器建立连接，然后通过该连接传递私有网络流量。
VPN 有许多不同的用途。例如，企业可能会设置 VPN，以便远程员工访问在公共互联网不可用的企业网络资源。或者，想要从不受信任的网络（例如机场的免费 Wi-Fi）访问互联网的消费者，可能会设置 VPN 来保护他们的流量。
支持的操作系统包括多种不同的 VPN API，按其支持的协议进行区分：

- 使用个人 VPN 创建和管理使用内置 VPN 协议（IPsec 或 IKEv2）的 VPN 配置。
- 创建数据包隧道提供程序以实现针对面向数据包的自定义 VPN 协议的 VPN 客户端。
- 创建一个应用代理提供程序以实现流式定制 VPN 协议的 VPN 客户端。

## 关于始终在线 VPN

iOS 支持始终在线 VPN，以确保所有 IP 流量都通过隧道返回组织。有关如何配置始终在线 VPN 的信息，请参见 iOS 部署参考 。
